<nav class="navbar navbar-expand-lg navbar-light bg-light12">
  <!-- <div class="container-fluid text-center">
    <a class="navbar-brand" href="{{ logoUrl }}">
      <img src="assets/new/curately-logo.svg" alt="" width="180" height="50" />
    </a>
  </div> -->
</nav>
<div id="wrapper" class="dashboard-box">
  <div class="container px-sm-0">
    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10 cur-main">
        <div id="jobsContent">
          <div class="row">
            <!-- Job Description -->
            <div class="col-sm-12 job-card">
              <div class="card" id="jobdesc-apply" *ngIf="selectedJob">
                <div class="jobdesc-header">
                  <!---- 1-isMobile -->
                  <div
                    *ngIf="!isMobile"
                    [ngClass]="!isMobile && showMore ? 'Hide-Summary' : ''"
                    class="col-sm-12 mx-0 my-0 mt-0"
                  >
                    <div class="d-flex justify-content-between selectjob">
                      <div class="selectjob-title mt-0">
                        <strong [title]="selectedJob.jobtitle">{{
                          selectedJob.jobtitle
                        }}</strong>
                      </div>
                    </div>
                    <ul class="mb-3 jobmeta">
                      <li>
                        <i class="fa fa-building"></i>{{ selectedJob.compname }}
                      </li>
                      <li>
                        <i class="fa fa-map-marker"></i> {{ selectedJob.city
                        }}<span *ngIf="selectedJob.city && selectedJob.state"
                          >,
                        </span>
                        {{ selectedJob.state }}
                      </li>
                      <li>
                        <i class="fa fa-usd"></i>
                        <span *ngIf="selectedJob.payrange">
                          {{ selectedJob.payrange }}
                        </span>
                        <span *ngIf="!selectedJob.payrange">
                          <span *ngIf="selectedJob.payrange1"
                            >{{ selectedJob.payrange1 }} -</span
                          >
                          {{ selectedJob.payrange2 }}
                        </span>
                        <span *ngIf="selectedJob.paytype">
                          per {{ selectedJob.paytype }}
                        </span>
                      </li>
                    </ul>
                  </div>
                  <!---- 1-desktop -->
                  <div
                    *ngIf="isMobile"
                    [ngClass]="
                      isMobile && showMore ? 'Hide-Summary-desktop' : ''
                    "
                    class="col-sm-12 mx-0 my-0 mt-0"
                  >
                    <div class="d-flex justify-content-between selectjob">
                      <div class="selectjob-title mt-0">
                        <strong [title]="selectedJob.jobtitle">{{
                          selectedJob.jobtitle
                        }}</strong>
                      </div>
                    </div>
                    <ul class="mb-3 jobmeta">
                      <li class="job_loc">
                        <i class="fa fa-building"></i>{{ selectedJob.compname }}
                      </li>
                      <li class="job_loc">
                        <i class="fa fa-map-marker"></i> {{ selectedJob.city
                        }}<span *ngIf="selectedJob.city && selectedJob.state"
                          >,
                        </span>
                        {{ selectedJob.state }}
                      </li>
                      <li class="job_loc">
                        <i class="fa fa-usd"></i>
                        <span *ngIf="selectedJob.payrange">
                          {{ selectedJob.payrange }}
                        </span>
                        <span *ngIf="!selectedJob.payrange">
                          <span *ngIf="selectedJob.payrange1"
                            >{{ selectedJob.payrange1 }} -</span
                          >
                          {{ selectedJob.payrange2 }}
                        </span>
                        <span *ngIf="selectedJob.paytype">
                          per {{ selectedJob.paytype }}
                        </span>
                      </li>
                    </ul>
                  </div>
                  <!---- 2 -->
                  <div class="content mt-1">
                    <div class="jobdesc-body">
                      <!-- Full summary -->
                      <h4 class="jd-title"><b>Job Summary</b></h4>
                      <div
                        *ngIf="!HideSummary"
                        class="jobrief ckTxt job-summury-desc"
                        [innerHtml]="trimString(selectedJob.description, 150)"
                      ></div>
                      <!-- Hide summary -->
                      <div
                        *ngIf="HideSummary"
                        class="jobrief ckTxt job-summury-desc"
                        [innerHtml]="selectedJob.description"
                      ></div>
                    </div>
                    <div
                      class="selectjob-description mb-4 mt-4"
                      *ngIf="selectedJob.description.length > 350"
                      (click)="HideSummary = !HideSummary"
                    >
                      <button class="">
                        {{
                          !HideSummary ? "Read Full Summary" : "Hide Summary"
                        }}
                      </button>
                    </div>

                    <div class="row form-tabs" *ngIf="jobsTab">
                      <form [formGroup]="loginForm">
                        <mat-card>
                          <h5 class="title text-md-left mt-0 mb-3">
                            Apply for this position
                          </h5>
                          <mat-card-content class="row">
                            <!-- Desktop device -->
                            <mat-form-field
                              class="full-width-input col-xs-12 col-sm-6 mr-2 pb-0"
                              appearance="outline"
                            >
                              <mat-label>First Name</mat-label>
                              <input
                                matInput
                                placeholder="First Name"
                                appAutoFocusDirective123
                                formControlName="firstName"
                                required
                              />
                              <mat-error
                                class="errorMessage"
                                *ngIf="
                                  (submitted &&
                                    !loginForm.controls.firstName.touched) ||
                                  loginForm.controls.firstName.touched
                                "
                              >
                                <span
                                  *ngIf="
                                    loginForm.controls.firstName.errors
                                      ?.required
                                  "
                                  >The First Name field cannot be blank.</span
                                >
                              </mat-error>
                            </mat-form-field>
                            <mat-form-field
                              class="full-width-input col-xs-12 col-sm-6 mr-2 pb-0"
                              appearance="outline"
                            >
                              <mat-label>Last Name</mat-label>
                              <input
                                matInput
                                placeholder="Last Name"
                                formControlName="lastName"
                                required
                              />
                              <mat-error
                                class="errorMessage"
                                *ngIf="
                                  (submitted &&
                                    !loginForm.controls.lastName.touched) ||
                                  loginForm.controls.lastName.touched
                                "
                              >
                                <span
                                  *ngIf="
                                    loginForm.controls.lastName.errors?.required
                                  "
                                  >The Last Name field cannot be blank.</span
                                >
                              </mat-error>
                            </mat-form-field>
                            <mat-form-field
                              class="full-width-input col-xs-12 col-sm-6 mr-2 pb-0"
                              appearance="outline"
                            >
                              <mat-label>Email Address</mat-label>
                              <input
                                matInput
                                placeholder="Email Address"
                                formControlName="email"
                                required
                              />
                              <mat-error
                                class="errorMessage"
                                *ngIf="
                                  (submitted &&
                                    !loginForm.controls.email.touched) ||
                                  loginForm.controls.email.touched
                                "
                              >
                                <span
                                  *ngIf="
                                    loginForm.controls.email.errors?.required
                                  "
                                  >Please enter a valid email ID. The email ID
                                  field cannot be blank.
                                </span>
                                <span
                                  *ngIf="
                                    loginForm.controls.email.errors?.pattern
                                  "
                                  >The Email ID format is incorrect. Please
                                  enter a valid email ID.
                                </span>
                              </mat-error>
                            </mat-form-field>
                            <mat-form-field
                              class="full-width-input col-xs-12 col-sm-6 mr-2 mt-2"
                              appearance="outline"
                            >
                              <mat-label>Mobile Number</mat-label>
                              <input
                                matInput
                                placeholder="Mobile Number"
                                type="text"
                                (keypress)="numberOnly($event)"
                                formControlName="phoneNo"
                                required
                                mobMask
                                (paste)="dontAllow()"
                              />
                              <mat-error
                                class="errorMessage"
                                *ngIf="
                                  (submitted &&
                                    !loginForm.controls.phoneNo.touched) ||
                                  loginForm.controls.phoneNo.touched
                                "
                              >
                                <span
                                  *ngIf="
                                    loginForm.controls.phoneNo.errors?.required
                                  "
                                  >The mobile number field cannot be
                                  blank.</span
                                >
                                <span
                                  *ngIf="
                                    loginForm.controls.phoneNo.errors?.pattern
                                  "
                                  >Please enter valid 10 digit mobile number
                                </span>
                              </mat-error>
                            </mat-form-field>
                            <div
                              class="row mt-3 text-xs-center text-sm-left pe-0 upload-main"
                            >
                              <div
                                class="col-xs-12 col-sm-6 mb-0 upload-main_resume"
                              >
                                <div
                                  class="row g-0 uploaded-file-name"
                                  *ngIf="file.length"
                                >
                                  <div
                                    class="col-10 text-left mt-1 file-name-ellipse"
                                  >
                                    <span class="file-name">
                                      <i
                                        class="fa fa-file-o"
                                        aria-hidden="true"
                                      ></i
                                      >&nbsp;
                                      {{
                                        this.file && this.file.length
                                          ? this.file[0].name
                                          : "myresume.pdf"
                                      }}</span
                                    >
                                  </div>
                                  <div class="col-2 text-right">
                                    <span class="delete-resume fs-5">
                                      <i
                                        class="fa fa-times"
                                        aria-hidden="true"
                                        (click)="deleteFile()"
                                      ></i>
                                    </span>
                                  </div>
                                </div>
                                <!-- <p
                                  class="uploaded-file-name"
                                  *ngIf="file.length"
                                >
                                  <span class="file-name">
                                    <i
                                      class="fa fa-file-o"
                                      aria-hidden="true"
                                    ></i
                                    >&nbsp;
                                    {{
                                      this.file && this.file.length
                                        ? this.file[0].name
                                        : "myresume.pdf"
                                    }}</span
                                  >
                                  <span class="delete-resume">
                                    <i
                                      class="fa fa-times"
                                      aria-hidden="true"
                                      (click)="deleteFile()"
                                    ></i>
                                  </span>
                                </p> -->
                                <p
                                  class="upload-resume-btn mb-0"
                                  [ngClass]="[
                                    submitted &&
                                    loginForm.controls.file.errors?.required
                                      ? 'upload-btn-error'
                                      : ''
                                  ]"
                                  (click)="fileInput.click()"
                                  *ngIf="!file.length"
                                >
                                  <img
                                    src="assets/new/uploadalt-10.png"
                                    alt=""
                                    width="25"
                                    height="25"
                                  />
                                  Upload resume
                                  <input
                                    #fileInput
                                    type="file"
                                    (change)="onSelectFile($event, fileInput)"
                                    style="display: none"
                                    accept=".doc,.docx,.pdf"
                                    formControlName="file"
                                  />
                                </p>
                                <mat-error
                                  class="errorMessage"
                                  *ngIf="submitted"
                                >
                                  <span
                                    class="error-resume"
                                    *ngIf="
                                      loginForm.controls.file.errors?.required
                                    "
                                    >Please select your resume.</span
                                  >
                                </mat-error>
                              </div>
                            </div>
                            <div
                              mat-dialog-actions
                              class="d-flex mt-2 keepmeSigned"
                            >
                              <mat-checkbox
                                formControlName="userType"
                                [color]="color1"
                                class="example-margin mb-3"
                              >
                                <div class="text-wrap confirm-check">
                                  Create my CXninja account to apply for jobs
                                  faster next time and
                                  <a href="javascript:void(0);">
                                    <span (click)="openCandidateBenefitsModal()"
                                      >avail candidate benefits.</span
                                    >
                                  </a>
                                </div>
                              </mat-checkbox>
                            </div>
                            <div
                              class="row mt-3 text-xs-center text-sm-left pe-0 submit-group"
                            >
                              <div
                                class="col-xs-12 col-sm-6 upload-resume-container p-2 d-flex justify-content-center"
                              >
                                <!-- <button
                                  class="text-center"
                                  (click)="submitForm($event)"
                                  mat-raised-button
                                  [color]="color"
                                  (mouseover)="color = 'warn'"
                                  (mouseout)="color = 'accent'"
                                  [disabled]="loginForm.errors"
                                >
                                  Submit
                                </button> -->
                                <button
                                  class="upload-resume-btn"
                                  (click)="submitForm($event)"
                                  mat-raised-button
                                  [color]="color"
                                  (mouseover)="color = 'warn'"
                                  (mouseout)="color = 'accent'"
                                  [disabled]="
                                    (submitted &&
                                      loginForm.get('firstName')?.invalid &&
                                      loginForm.get('lastName')?.invalid &&
                                      loginForm.get('email')?.invalid &&
                                      loginForm.get('phoneNo')?.invalid &&
                                      loginForm.get('file')?.invalid) ||
                                    (loginForm.get('firstName')?.invalid &&
                                      (loginForm.get('firstName')?.dirty ||
                                        loginForm.get('firstName')?.touched)) ||
                                    (loginForm.get('lastName')?.invalid &&
                                      (loginForm.get('lastName')?.dirty ||
                                        loginForm.get('lastName')?.touched)) ||
                                    (loginForm.get('email')?.invalid &&
                                      (loginForm.get('email')?.dirty ||
                                        loginForm.get('email')?.touched)) ||
                                    (loginForm.get('phoneNo')?.invalid &&
                                      (loginForm.get('phoneNo')?.dirty ||
                                        loginForm.get('phoneNo')?.touched)) ||
                                    (loginForm.get('file')?.invalid &&
                                      (loginForm.get('file')?.dirty ||
                                        loginForm.get('file')?.touched))
                                  "
                                >
                                  Submit
                                </button>
                              </div>
                            </div>
                            <!-- Description -->
                            <!-- <div class="jobdesc-body">
                              <div
                                class="jobrief ckTxt"
                                [innerHtml]="selectedJob.description"
                              ></div>
                              <div
                                #native
                                class="row mt-3 text-xs-center text-sm-left pe-0 footer"
                              >
                                <div
                                  class="col-xs-12 col-sm-6 mb-4"
                                  *ngIf="showMore && !isMobile"
                                >
                                  <button
                                    class="upload-resume-btn"
                                    (click)="submitForm($event)"
                                    mat-raised-button
                                    [color]="color"
                                    (mouseover)="color = 'warn'"
                                    (mouseout)="color = 'accent'"
                                  >
                                    Submit
                                  </button>
                                </div>
                              </div>
                            </div> -->
                            <!-- <div
                              class="selectjob-description mb-3 mt-3"
                              *ngIf="selectedJob.description.length > 150"
                              (click)="showMore = !showMore"
                            >
                              <button class="">
                                {{
                                  !showMore
                                    ? "Read Full Summary"
                                    : "Hide Summary"
                                }}
                              </button>
                            </div> -->
                          </mat-card-content>
                        </mat-card>
                      </form>
                    </div>
                  </div>
                  <!-- 2- end -->
                  <div class="row form-tabs p-3" *ngIf="!jobsTab">
                    <h5 class="mb-2 mt-2 px-0">
                      Apply with resume (less than 1 min)
                    </h5>
                    <div class="text-center">
                      <div class="resumeDiv text-center mt-2">
                        <button
                          (click)="fileInput.click()"
                          class="btn align-middle btn-primary btn-outline-dark btn-capsule"
                        >
                          <i class="fa fa-cloud-upload-alt"></i> Browse Resume
                          <input
                            #fileInput
                            type="file"
                            (change)="onSelectFile($event, fileInput)"
                            style="display: none"
                            accept=".doc,.docx,.pdf"
                          />
                        </button>
                        <!-- <div class='resumeText'>Supported upload formats: 2MB max in .DOC, .DOCX, or .PDF</div> -->
                      </div>
                      <div class="mt-2 mb-1 guestloginOr">OR</div>
                      <div class="resume-text">
                        <p>
                          Don't have a resume? Create one with
                          <strong>CX</strong>ninja's FREE resume builder.
                        </p>
                        <a
                          href="javascript:void(0);"
                          (click)="goToResumeBuilder()"
                          class="btn btn-outline-dark btn-capsule"
                        >
                          <!-- <i class="fa fa-cloud-upload-alt"></i> -->
                          Create Resume
                          <!-- <input #fileInput type="file"  (change)="onSelectFile($event,fileInput)"
                      style="display:none;" accept=".doc,.docx,.pdf" /> -->
                        </a>
                      </div>
                    </div>
                  </div>
                  <!-- <button href="javascript:void(0);" class="btn btn-primary mt-3 ml-0 mb-0 text-white"  (click)="applyJob()"
                    *ngIf="!selectedJob.applied">
                    Apply Now
                  </button>
                  <a href="javascript:void(0);" class="btn btn-success mt-3 ml-0 mb-0 text-white"
                    *ngIf="selectedJob.applied">
                    Applied
                  </a> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<mat-spinner color="warn" *ngIf="showSpinner"></mat-spinner>
